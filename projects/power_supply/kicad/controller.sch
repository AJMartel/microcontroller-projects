EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:custom
LIBS:power_supply-cache
EELAYER 27 0
EELAYER END
$Descr User 8000 6000
encoding utf-8
Sheet 4 5
Title "Controller"
Date "2 feb 2015"
Rev "1"
Comp "Digital Cave"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text HLabel 5500 1450 2    60   Output ~ 0
I_ADJUST
Text HLabel 5500 1350 2    60   Output ~ 0
V_ADJUST
Text HLabel 5500 3150 2    60   Input ~ 0
V_IN
Text HLabel 5500 3250 2    60   Input ~ 0
I_IN
$Comp
L ATMEGA32U4-A U?
U 1 1 54CFFA5B
P 4400 2900
F 0 "U?" H 3450 4600 40  0000 C CNN
F 1 "ATMEGA32U4-A" H 5100 1400 40  0000 C CNN
F 2 "TQFP44" H 4400 2900 35  0000 C CIN
F 3 "" H 5500 4000 60  0000 C CNN
	1    4400 2900
	1    0    0    -1  
$EndComp
$Comp
L PINS_6 K?
U 1 1 54D013FF
P 6250 2800
F 0 "K?" H 6250 2450 60  0000 C CNN
F 1 "DISPLAY" H 6250 3150 60  0000 C CNN
F 2 "~" H 6250 3050 60  0000 C CNN
F 3 "~" H 6250 3050 60  0000 C CNN
	1    6250 2800
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5500 3750 6250 3750
Wire Wire Line
	6250 3850 5500 3850
Wire Wire Line
	5500 3950 6250 3950
Wire Wire Line
	6250 4050 5500 4050
Wire Wire Line
	5500 4150 6250 4150
Wire Wire Line
	6250 4250 5500 4250
Wire Wire Line
	6250 1750 5500 1750
Wire Wire Line
	5500 1850 6250 1850
Wire Wire Line
	6250 1950 5500 1950
Wire Wire Line
	5500 2050 6250 2050
Wire Wire Line
	6250 1550 5500 1550
Wire Wire Line
	5500 1650 6250 1650
Wire Wire Line
	4000 4500 4000 4700
Wire Wire Line
	4000 4600 4550 4600
Wire Wire Line
	4250 4600 4250 4500
Wire Wire Line
	4350 4600 4350 4500
Connection ~ 4250 4600
Wire Wire Line
	4450 4600 4450 4500
Connection ~ 4350 4600
Wire Wire Line
	4550 4600 4550 4500
Connection ~ 4450 4600
$Comp
L GND #PWR?
U 1 1 54D01A0C
P 4000 4700
F 0 "#PWR?" H 4000 4700 30  0001 C CNN
F 1 "GND" H 4000 4630 30  0001 C CNN
F 2 "" H 4000 4700 60  0000 C CNN
F 3 "" H 4000 4700 60  0000 C CNN
	1    4000 4700
	1    0    0    -1  
$EndComp
Connection ~ 4000 4600
Wire Wire Line
	3950 900  3950 1100
Wire Wire Line
	3950 1000 5000 1000
Wire Wire Line
	4200 900  4200 1100
Wire Wire Line
	4300 900  4300 1100
Connection ~ 4200 1000
Wire Wire Line
	4550 900  4550 1100
Connection ~ 4300 1000
Wire Wire Line
	4650 900  4650 1100
Connection ~ 4550 1000
Wire Wire Line
	5000 1000 5000 900 
Connection ~ 4650 1000
$Comp
L +5V #PWR?
U 1 1 54D01C8B
P 5000 900
F 0 "#PWR?" H 5000 990 20  0001 C CNN
F 1 "+5V" H 5000 990 30  0000 C CNN
F 2 "" H 5000 900 60  0000 C CNN
F 3 "" H 5000 900 60  0000 C CNN
	1    5000 900 
	1    0    0    -1  
$EndComp
$Comp
L CSMALL C?
U 1 1 54D01C91
P 3950 800
F 0 "C?" H 3975 850 30  0000 L CNN
F 1 "0.1uF" H 3975 750 30  0000 L CNN
F 2 "~" H 3950 800 60  0000 C CNN
F 3 "~" H 3950 800 60  0000 C CNN
	1    3950 800 
	1    0    0    -1  
$EndComp
$Comp
L CSMALL C?
U 1 1 54D01C97
P 4200 800
F 0 "C?" H 4225 850 30  0000 L CNN
F 1 "0.1uF" H 4225 750 30  0000 L CNN
F 2 "~" H 4200 800 60  0000 C CNN
F 3 "~" H 4200 800 60  0000 C CNN
	1    4200 800 
	1    0    0    -1  
$EndComp
$Comp
L CSMALL C?
U 1 1 54D01CA7
P 4300 800
F 0 "C?" H 4325 850 30  0000 L CNN
F 1 "0.1uF" H 4325 750 30  0000 L CNN
F 2 "~" H 4300 800 60  0000 C CNN
F 3 "~" H 4300 800 60  0000 C CNN
	1    4300 800 
	1    0    0    -1  
$EndComp
$Comp
L CSMALL C?
U 1 1 54D01CAD
P 4550 800
F 0 "C?" H 4575 850 30  0000 L CNN
F 1 "0.1uF" H 4575 750 30  0000 L CNN
F 2 "~" H 4550 800 60  0000 C CNN
F 3 "~" H 4550 800 60  0000 C CNN
	1    4550 800 
	1    0    0    -1  
$EndComp
$Comp
L CSMALL C?
U 1 1 54D01CB3
P 4650 800
F 0 "C?" H 4675 850 30  0000 L CNN
F 1 "0.1uF" H 4675 750 30  0000 L CNN
F 2 "~" H 4650 800 60  0000 C CNN
F 3 "~" H 4650 800 60  0000 C CNN
	1    4650 800 
	1    0    0    -1  
$EndComp
Connection ~ 3950 1000
Wire Wire Line
	4650 600  4650 700 
Wire Wire Line
	3850 600  4650 600 
Wire Wire Line
	4550 600  4550 700 
Wire Wire Line
	4300 600  4300 700 
Connection ~ 4550 600 
Wire Wire Line
	4200 600  4200 700 
Connection ~ 4300 600 
Wire Wire Line
	3950 600  3950 700 
Connection ~ 4200 600 
Connection ~ 3950 600 
$Comp
L GND #PWR?
U 1 1 54D0213C
P 3850 600
F 0 "#PWR?" H 3850 600 30  0001 C CNN
F 1 "GND" H 3850 530 30  0001 C CNN
F 2 "" H 3850 600 60  0000 C CNN
F 3 "" H 3850 600 60  0000 C CNN
	1    3850 600 
	0    1    1    0   
$EndComp
$Comp
L RSMALL R?
U 1 1 54D02142
P 3150 1150
F 0 "R?" V 3240 1145 40  0000 C CNN
F 1 "10k" V 3065 1150 40  0000 C CNN
F 2 "~" V 3080 1150 30  0000 C CNN
F 3 "~" H 3150 1200 30  0000 C CNN
	1    3150 1150
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 54D02148
P 3150 950
F 0 "#PWR?" H 3150 1040 20  0001 C CNN
F 1 "+5V" H 3150 1040 30  0000 C CNN
F 2 "" H 3150 950 60  0000 C CNN
F 3 "" H 3150 950 60  0000 C CNN
	1    3150 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 950  3150 1050
Wire Wire Line
	3150 1250 3150 1350
Wire Wire Line
	3150 1350 3250 1350
$Comp
L CRYSTAL_SMD_4PIN X?
U 1 1 54D02247
P 3050 1850
F 0 "X?" H 3200 1750 30  0000 C CNN
F 1 "CRYSTAL_SMD_4PIN" H 2850 1950 30  0000 L CNN
F 2 "~" H 3050 1850 60  0000 C CNN
F 3 "~" H 3050 1850 60  0000 C CNN
	1    3050 1850
	0    1    1    0   
$EndComp
Wire Wire Line
	2950 1650 3250 1650
Wire Wire Line
	3250 1650 3250 1750
Wire Wire Line
	2950 2050 3250 2050
Wire Wire Line
	3250 2050 3250 1950
Wire Wire Line
	2950 1800 2850 1800
Wire Wire Line
	2850 1800 2850 1900
Wire Wire Line
	2850 1900 2950 1900
$Comp
L CSMALL C?
U 1 1 54D023D7
P 2850 1650
F 0 "C?" H 2875 1700 30  0000 L CNN
F 1 "8pF" H 2875 1600 30  0000 L CNN
F 2 "~" H 2850 1650 60  0000 C CNN
F 3 "~" H 2850 1650 60  0000 C CNN
	1    2850 1650
	0    -1   -1   0   
$EndComp
$Comp
L CSMALL C?
U 1 1 54D023E9
P 2850 2050
F 0 "C?" H 2875 2100 30  0000 L CNN
F 1 "8pF" H 2875 2000 30  0000 L CNN
F 2 "~" H 2850 2050 60  0000 C CNN
F 3 "~" H 2850 2050 60  0000 C CNN
	1    2850 2050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2750 1650 2750 2050
Wire Wire Line
	2650 1850 2850 1850
Connection ~ 2750 1850
Connection ~ 2850 1850
$Comp
L GND #PWR?
U 1 1 54D02584
P 2650 1850
F 0 "#PWR?" H 2650 1850 30  0001 C CNN
F 1 "GND" H 2650 1780 30  0001 C CNN
F 2 "" H 2650 1850 60  0000 C CNN
F 3 "" H 2650 1850 60  0000 C CNN
	1    2650 1850
	0    1    1    0   
$EndComp
Connection ~ 3050 2050
Connection ~ 3050 1650
$Comp
L CSMALL C?
U 1 1 54D0269D
P 3050 3750
F 0 "C?" H 3075 3800 30  0000 L CNN
F 1 "1uF" H 3075 3700 30  0000 L CNN
F 2 "~" H 3050 3750 60  0000 C CNN
F 3 "~" H 3050 3750 60  0000 C CNN
	1    3050 3750
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 54D026A3
P 2850 3750
F 0 "#PWR?" H 2850 3750 30  0001 C CNN
F 1 "GND" H 2850 3680 30  0001 C CNN
F 2 "" H 2850 3750 60  0000 C CNN
F 3 "" H 2850 3750 60  0000 C CNN
	1    2850 3750
	0    1    1    0   
$EndComp
Wire Wire Line
	2850 3750 2950 3750
Wire Wire Line
	3150 3750 3250 3750
$Comp
L USB-MINI-B CON?
U 1 1 54D027CE
P 1550 2700
F 0 "CON?" H 1300 3150 60  0000 C CNN
F 1 "USB-MINI-B" H 1500 2200 60  0000 C CNN
F 2 "" H 1550 2700 60  0000 C CNN
F 3 "" H 1550 2700 60  0000 C CNN
	1    1550 2700
	-1   0    0    1   
$EndComp
$Comp
L RSMALL R?
U 1 1 54D027DD
P 2900 2700
F 0 "R?" V 2990 2695 40  0000 C CNN
F 1 "22" V 2815 2700 40  0000 C CNN
F 2 "~" V 2830 2700 30  0000 C CNN
F 3 "~" H 2900 2750 30  0000 C CNN
	1    2900 2700
	0    -1   -1   0   
$EndComp
$Comp
L RSMALL R?
U 1 1 54D027EF
P 2650 2850
F 0 "R?" V 2740 2845 40  0000 C CNN
F 1 "22" V 2565 2850 40  0000 C CNN
F 2 "~" V 2580 2850 30  0000 C CNN
F 3 "~" H 2650 2900 30  0000 C CNN
	1    2650 2850
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3250 2700 3000 2700
Wire Wire Line
	3250 2800 3000 2800
Wire Wire Line
	3000 2800 3000 2850
Wire Wire Line
	3000 2850 2750 2850
Wire Wire Line
	2550 2850 2100 2850
Wire Wire Line
	2100 2700 2800 2700
NoConn ~ 2100 2550
$Comp
L +5V #PWR?
U 1 1 54D02948
P 3150 2550
F 0 "#PWR?" H 3150 2640 20  0001 C CNN
F 1 "+5V" H 3150 2640 30  0000 C CNN
F 2 "" H 3150 2550 60  0000 C CNN
F 3 "" H 3150 2550 60  0000 C CNN
	1    3150 2550
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR?
U 1 1 54D0294E
P 2200 3000
F 0 "#PWR?" H 2200 3090 20  0001 C CNN
F 1 "+5V" H 2200 3090 30  0000 C CNN
F 2 "" H 2200 3000 60  0000 C CNN
F 3 "" H 2200 3000 60  0000 C CNN
	1    2200 3000
	0    1    1    0   
$EndComp
Wire Wire Line
	2100 3000 2200 3000
Wire Wire Line
	3250 2550 3150 2550
$Comp
L GND #PWR?
U 1 1 54D029FB
P 2100 2400
F 0 "#PWR?" H 2100 2400 30  0001 C CNN
F 1 "GND" H 2100 2330 30  0001 C CNN
F 2 "" H 2100 2400 60  0000 C CNN
F 3 "" H 2100 2400 60  0000 C CNN
	1    2100 2400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1000 2400 900  2400
Wire Wire Line
	900  2400 900  3100
Wire Wire Line
	900  2550 1000 2550
Wire Wire Line
	900  2850 1000 2850
Connection ~ 900  2550
Wire Wire Line
	900  3000 1000 3000
Connection ~ 900  2850
Connection ~ 900  3000
$Comp
L GND #PWR?
U 1 1 54D02B66
P 900 3100
F 0 "#PWR?" H 900 3100 30  0001 C CNN
F 1 "GND" H 900 3030 30  0001 C CNN
F 2 "" H 900 3100 60  0000 C CNN
F 3 "" H 900 3100 60  0000 C CNN
	1    900  3100
	1    0    0    -1  
$EndComp
$Comp
L CSMALL C?
U 1 1 54D02B6C
P 3050 2950
F 0 "C?" H 3075 3000 30  0000 L CNN
F 1 "1uF" H 3075 2900 30  0000 L CNN
F 2 "~" H 3050 2950 60  0000 C CNN
F 3 "~" H 3050 2950 60  0000 C CNN
	1    3050 2950
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 54D02B72
P 2850 2950
F 0 "#PWR?" H 2850 2950 30  0001 C CNN
F 1 "GND" H 2850 2880 30  0001 C CNN
F 2 "" H 2850 2950 60  0000 C CNN
F 3 "" H 2850 2950 60  0000 C CNN
	1    2850 2950
	0    1    1    0   
$EndComp
Wire Wire Line
	2850 2950 2950 2950
Wire Wire Line
	3150 2950 3250 2950
$Comp
L PINS_6 K?
U 1 1 54D03812
P 6550 1800
F 0 "K?" H 6550 1450 60  0000 C CNN
F 1 "DAC_OUTPUT" H 6550 2150 60  0000 C CNN
F 2 "~" H 6550 2050 60  0000 C CNN
F 3 "~" H 6550 2050 60  0000 C CNN
	1    6550 1800
	-1   0    0    -1  
$EndComp
$Comp
L PINS_2 K?
U 1 1 54D013F7
P 5800 3500
F 0 "K?" H 5800 3350 60  0000 C CNN
F 1 "ENCODER_2" H 5800 3650 60  0000 C CNN
F 2 "~" H 5800 3550 60  0000 C CNN
F 3 "~" H 5800 3550 60  0000 C CNN
	1    5800 3500
	-1   0    0    -1  
$EndComp
$Comp
L PINS_2 K?
U 1 1 54D013EA
P 5800 2300
F 0 "K?" H 5800 2150 60  0000 C CNN
F 1 "ENCODER_1" H 5800 2450 60  0000 C CNN
F 2 "~" H 5800 2350 60  0000 C CNN
F 3 "~" H 5800 2350 60  0000 C CNN
	1    5800 2300
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5500 2550 5950 2550
Wire Wire Line
	5950 2650 5500 2650
Wire Wire Line
	5500 2750 5950 2750
Wire Wire Line
	5950 2850 5500 2850
Wire Wire Line
	5500 2950 5950 2950
Wire Wire Line
	5950 3050 5500 3050
$Comp
L PINS_6 K?
U 1 1 54D03A98
P 6550 4000
F 0 "K?" H 6550 3650 60  0000 C CNN
F 1 "ADC_INPUT" H 6550 4350 60  0000 C CNN
F 2 "~" H 6550 4250 60  0000 C CNN
F 3 "~" H 6550 4250 60  0000 C CNN
	1    6550 4000
	-1   0    0    -1  
$EndComp
$EndSCHEMATC
